{"version":3,"sources":["components/packages/ReactLinesEllipsis/style.module.scss","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/react-lines-ellipsis/lib/index.modern.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","components/packages/ReactLinesEllipsis/index.tsx"],"names":["module","exports","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","property","receiver","Reflect","get","base","object","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","value","_setPrototypeOf","p","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","self","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","Proxy","Date","toString","e","result","Super","NewTarget","this","arguments","apply","_extends","assign","source","canvasStyle","position","bottom","left","height","overflow","border","mirrorProps","prevSibling","node","count","previousElementSibling","defaultProps","basedOn","undefined","className","component","ellipsis","maxLine","onReflow","text","trimRight","winWidth","usedProps","keys","LinesEllipsis","subClass","superClass","TypeError","create","Constructor","protoProps","staticProps","instance","state","clamped","units","canvas","initCanvas","reflow","prevProps","copyStyleToCanvas","parentNode","removeChild","callback","document","createElement","setAttribute","forEach","style","body","appendChild","targetStyle","window","getComputedStyle","test","split","Array","from","Error","innerHTML","map","c","join","ellipsisIndex","putEllipsis","calcIndexes","newState","slice","setState","bind","indexes","elt","firstElementChild","index","line","offsetTop","nextElementSibling","push","lastIndex","maxOffsetTop","children","ndEllipsis","lastElementChild","ndPrevUnit","offsetHeight","pop","_this$props","Component","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","React","ref","omittedKeys","ret","omit","replace","ReactLinesEllipsis","useState","setText","handleChange","useCallback","currentTarget","styles","wrapper","textarea","onChange"],"mappings":"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","file":"static/js/6.1f91b3cf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper__2LnTa\",\"textarea\":\"style_textarea__149U5\"};","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst canvasStyle = {\n  position: 'absolute',\n  bottom: 0,\n  left: 0,\n  height: 0,\n  overflow: 'hidden',\n  'padding-top': 0,\n  'padding-bottom': 0,\n  border: 'none'\n};\nconst mirrorProps = ['box-sizing', 'width', 'font-size', 'font-weight', 'font-family', 'font-style', 'letter-spacing', 'text-indent', 'white-space', 'word-break', 'overflow-wrap', 'padding-left', 'padding-right'];\n\nfunction omit(obj, omittedKeys) {\n  if (!obj || typeof obj !== 'object') {\n    return obj;\n  }\n\n  const ret = {};\n  Object.keys(obj).forEach(key => {\n    if (omittedKeys.indexOf(key) > -1) {\n      return;\n    }\n\n    ret[key] = obj[key];\n  });\n  return ret;\n}\n\nfunction prevSibling(node, count) {\n  while (node && count--) {\n    node = node.previousElementSibling;\n  }\n\n  return node;\n}\n\nconst defaultProps = {\n  basedOn: undefined,\n  className: '',\n  component: 'div',\n  ellipsis: '…',\n  // &hellip;\n  maxLine: 1,\n\n  onReflow() {},\n\n  text: '',\n  trimRight: true,\n  winWidth: undefined // for the HOC\n\n};\nconst usedProps = Object.keys(defaultProps);\n/**\n * props.text {String} the text you want to clamp\n * props.maxLine {Number|String} max lines allowed\n * props.ellipsis {String} the ellipsis indicator\n * props.trimRight {Boolean} should we trimRight the clamped text?\n * props.basedOn {String} letters|words\n * props.className {String}\n */\n\nclass LinesEllipsis extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: props.text,\n      clamped: false\n    };\n    this.units = [];\n    this.maxLine = 0;\n    this.canvas = null;\n  }\n\n  componentDidMount() {\n    this.initCanvas();\n    this.reflow(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.winWidth !== this.props.winWidth) {\n      this.copyStyleToCanvas();\n    }\n\n    if (this.props !== prevProps) {\n      this.reflow(this.props);\n    }\n  }\n\n  componentWillUnmount() {\n    this.canvas.parentNode.removeChild(this.canvas);\n  }\n\n  setState(state, callback) {\n    if (typeof state.clamped !== 'undefined') {\n      this.clamped = state.clamped;\n    }\n\n    return super.setState(state, callback);\n  }\n\n  initCanvas() {\n    if (this.canvas) return;\n    const canvas = this.canvas = document.createElement('div');\n    canvas.className = `LinesEllipsis-canvas ${this.props.className}`;\n    canvas.setAttribute('aria-hidden', 'true');\n    this.copyStyleToCanvas();\n    Object.keys(canvasStyle).forEach(key => {\n      canvas.style[key] = canvasStyle[key];\n    });\n    document.body.appendChild(canvas);\n  }\n\n  copyStyleToCanvas() {\n    const targetStyle = window.getComputedStyle(this.target);\n    mirrorProps.forEach(key => {\n      this.canvas.style[key] = targetStyle[key];\n    });\n  }\n\n  reflow(props) {\n    /* eslint-disable no-control-regex */\n    const basedOn = props.basedOn || (/^[\\x00-\\x7F]+$/.test(props.text) ? 'words' : 'letters');\n\n    switch (basedOn) {\n      case 'words':\n        this.units = props.text.split(/\\b|(?=\\W)/);\n        break;\n\n      case 'letters':\n        this.units = Array.from(props.text);\n        break;\n\n      default:\n        throw new Error(`Unsupported options basedOn: ${basedOn}`);\n    }\n\n    this.maxLine = +props.maxLine || 1;\n    this.canvas.innerHTML = this.units.map(c => {\n      return `<span class='LinesEllipsis-unit'>${c}</span>`;\n    }).join('');\n    const ellipsisIndex = this.putEllipsis(this.calcIndexes());\n    const clamped = ellipsisIndex > -1;\n    const newState = {\n      clamped,\n      text: clamped ? this.units.slice(0, ellipsisIndex).join('') : props.text\n    };\n    this.setState(newState, props.onReflow.bind(this, newState));\n  }\n\n  calcIndexes() {\n    const indexes = [0];\n    let elt = this.canvas.firstElementChild;\n    if (!elt) return indexes;\n    let index = 0;\n    let line = 1;\n    let offsetTop = elt.offsetTop;\n\n    while (elt = elt.nextElementSibling) {\n      if (elt.offsetTop > offsetTop) {\n        line++;\n        indexes.push(index);\n        offsetTop = elt.offsetTop;\n      }\n\n      index++;\n\n      if (line > this.maxLine) {\n        break;\n      }\n    }\n\n    return indexes;\n  }\n\n  putEllipsis(indexes) {\n    if (indexes.length <= this.maxLine) return -1;\n    const lastIndex = indexes[this.maxLine];\n    const units = this.units.slice(0, lastIndex);\n    const maxOffsetTop = this.canvas.children[lastIndex].offsetTop;\n    this.canvas.innerHTML = units.map((c, i) => {\n      return `<span class='LinesEllipsis-unit'>${c}</span>`;\n    }).join('') + `<wbr><span class='LinesEllipsis-ellipsis'>${this.props.ellipsis}</span>`;\n    const ndEllipsis = this.canvas.lastElementChild;\n    let ndPrevUnit = prevSibling(ndEllipsis, 2);\n\n    while (ndPrevUnit && (ndEllipsis.offsetTop > maxOffsetTop || // IE & Edge: doesn't support <wbr>\n    ndEllipsis.offsetHeight > ndPrevUnit.offsetHeight || ndEllipsis.offsetTop > ndPrevUnit.offsetTop)) {\n      this.canvas.removeChild(ndPrevUnit);\n      ndPrevUnit = prevSibling(ndEllipsis, 2);\n      units.pop();\n    }\n\n    return units.length;\n  } // expose\n\n\n  isClamped() {\n    return this.clamped; // do not use state.clamped. #27\n  }\n\n  render() {\n    const {\n      text,\n      clamped\n    } = this.state;\n\n    const _this$props = this.props,\n          {\n      component: Component,\n      ellipsis,\n      trimRight,\n      className\n    } = _this$props,\n          rest = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"ellipsis\", \"trimRight\", \"className\"]);\n\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: `LinesEllipsis ${clamped ? 'LinesEllipsis--clamped' : ''} ${className}`,\n      ref: node => this.target = node\n    }, omit(rest, usedProps)), clamped && trimRight ? text.replace(/[\\s\\uFEFF\\xA0]+$/, '') : text, /*#__PURE__*/React.createElement(\"wbr\", null), clamped && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"LinesEllipsis-ellipsis\"\n    }, ellipsis));\n  }\n\n}\n\nLinesEllipsis.defaultProps = defaultProps;\n\nexport default LinesEllipsis;\n","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import React, {\n  ComponentPropsWithoutRef,\n  FC,\n  useCallback,\n  useState,\n} from \"react\";\nimport LinesEllipsis from \"react-lines-ellipsis\";\nimport styles from \"./style.module.scss\";\n\nconst ReactLinesEllipsis: FC = () => {\n  const [text, setText] = useState(\n    \"祇園精舎の鐘の声、諸行無常の響きあり。沙羅双樹の花の色、盛者必衰の理をあらはす。奢れる人も久からず、ただ春の夜の夢のごとし。猛き者も遂にはほろびぬ、偏に風の前の塵におなじ。\"\n  );\n  const handleChange = useCallback<\n    NonNullable<ComponentPropsWithoutRef<\"textarea\">[\"onChange\"]>\n  >(({ currentTarget: { value } }) => {\n    setText(value);\n  }, []);\n\n  return (\n    <div className={styles.wrapper}>\n      <LinesEllipsis\n        basedOn=\"letters\"\n        ellipsis=\"...\"\n        maxLine=\"3\"\n        text={text}\n        trimRight={true}\n      />\n      <textarea\n        className={styles.textarea}\n        onChange={handleChange}\n        value={text}\n      />\n    </div>\n  );\n};\n\nexport default ReactLinesEllipsis;\n"],"sourceRoot":""}